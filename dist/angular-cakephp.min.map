{"version":3,"file":"angular-cakephp.min.js","sources":["../lib/angular-cakephp.js","../lib/angular-cakephp-settings.js","../lib/base/base-active-record.js","../lib/base/base-model.js","../lib/http/http-request-service.js","../lib/http/http-response-service.js","../lib/transformers/transformer-service.js","../lib/util/util-service.js"],"names":["angular","module","value","BaseActiveRecord","this","model","ERROR_MISSING_PARAMS","ERROR_VIRTUAL_FIELD_NAME","ERROR_VIRTUAL_FIELD_NAME_NOT_STRING","ERROR_VIRTUAL_FIELD_NAME_NOT_FIELD","ERROR_VIRTUAL_FIELD_NAME_NOT_VIRTUAL_FIELD","ERROR_VIRTUAL_FIELD_VALUE","ERROR_VIRTUAL_FIELD_VALUE_NOT_FUNCTION","$inject","prototype","extend","data","_","isUndefined","has","active_record_class","Error","Object","create","instance","config","timestamps","created","modified","save","id","edit","add","new","delete","validate","fields","getClassName","name","virtualField","valueFn","virtualValue","defineProperty","enumerable","configurable","get","set","apply","virtualFieldUpdate","propertyIsEnumerable","service","BaseModel","_$http","_$injector","_$q","_api_url","_UtilService","_HttpResponseService","_TransformerService","_BaseActiveRecord","AngularCakePHPTimestamps","$http","$injector","$q","api_url","UtilService","HttpResponseService","TransformerService","apiEndpointTransformer","e","api","api_endpoint","Model","active_record","merge","clone","isNull","snakeCase","forEach","item","key","isArray","result_array","getAssociationArray","isEmpty","isObject","result_item","getAssociation","index","params","self","resolve","reject","url","transformRequestUrl","success","response","status","headers","handleIndexResponse","error","handleErrorResponse","view","handleViewResponse","transformRequestData","post","handleAddResponse","put","handleEditResponse","handleDeleteResponse","get_params","join","post_params","handleValidateResponse","handleValidateErrorResponse","end_point","http_method","url_params","toUpperCase","http_params","method","HttpRequestService","prepareRequest","result","push","transformResponseDataList","transformResponseData","message","urlParamTransformer","params_array","params_str","length","id_str","replace","d","i","ERROR_MODEL_DOES_NOT_EXIST","ERROR_NO_DATA","model_class","isNumber","console"],"mappings":"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"}