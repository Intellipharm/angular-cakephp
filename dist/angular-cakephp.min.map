{"version":3,"file":"angular-cakephp.min.js","sources":["../lib/angular-cakephp.js","../lib/angular-cakephp-settings.js","../lib/base/base-active-record.js","../lib/base/base-model.js","../lib/http/http-request-service.js","../lib/http/http-response-service.js","../lib/transformers/transformer-service.js","../lib/util/util-service.js"],"names":["angular","module","value","BaseActiveRecord","this","model","ERROR_MISSING_PARAMS","ERROR_VIRTUAL_FIELD_NAME","ERROR_VIRTUAL_FIELD_NAME_NOT_STRING","ERROR_VIRTUAL_FIELD_NAME_NOT_FIELD","ERROR_VIRTUAL_FIELD_NAME_NOT_VIRTUAL_FIELD","ERROR_VIRTUAL_FIELD_VALUE","ERROR_VIRTUAL_FIELD_VALUE_NOT_FUNCTION","$inject","prototype","extend","data","_","isUndefined","has","active_record_class","Error","Object","create","instance","save","id","edit","add","new","delete","validate","fields","getClassName","name","virtualField","valueFn","virtualValue","defineProperty","enumerable","configurable","get","set","apply","virtualFieldUpdate","propertyIsEnumerable","service","BaseModel","_$http","_$injector","_$q","_api_url","_UtilService","_HttpResponseService","_TransformerService","_BaseActiveRecord","$http","$injector","$q","api_url","UtilService","HttpResponseService","TransformerService","apiEndpointTransformer","e","config","api","api_endpoint","api_endpoint_auto","Model","active_record","merge","clone","isNull","snakeCase","forEach","item","key","isArray","result_array","getAssociationArray","isEmpty","isObject","result_item","getAssociation","index","params","self","resolve","reject","url","transformRequestUrl","success","response","status","headers","handleIndexResponse","error","handleErrorResponse","view","handleViewResponse","transformRequestData","post","handleAddResponse","put","handleEditResponse","handleDeleteResponse","get_params","join","post_params","handleValidateResponse","handleValidateErrorResponse","end_point","http_method","url_params","toUpperCase","http_params","method","HttpRequestService","prepareRequest","result","push","transformResponseDataList","transformResponseData","message","urlParamTransformer","params_array","params_str","length","id_str","replace","d","i","ERROR_MODEL_DOES_NOT_EXIST","ERROR_NO_DATA","model_class","isNumber","console"],"mappings":"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"}